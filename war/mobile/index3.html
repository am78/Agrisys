<!doctype html>
<html manifest="dontuse.agrisys.manifest"> 
	<head> 
	<title>Agrisys mobile</title> 
	<link rel="stylesheet" href="jquery.mobile-1.0a2.css" />
	<script type="text/javascript" src="jquery-1.4.4.js"></script>
	<script type="text/javascript" src="jquery.mobile-1.0a2.js"></script>
	<!-- jquery-tmpl infos at: http://github.com/jquery/jquery-tmpl -->
	<script type="text/javascript" 
		src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
</head> 
<body>

<div id="result"></div>

<!-- Start of first page -->
<div data-role="page" id="master">

	<div data-role="header">
		<h1 id="networkState">Schlagliste</h1>		
	</div><!-- /header -->

	<div data-role="content">	
		<ul data-role="listview" data-theme="c" id="schlagList"></ul>
	</div><!-- /content -->

	<div data-role="footer">
		&nbsp;
	</div><!-- /header -->
</div><!-- /page -->

<script type="text/javascript">

	//get connection state
	var connectionStatus = ((navigator.onLine) ? 'online' : 'offline');	
	//render networkState template
	$.template( "netStatTmpl", '&nbsp;-&nbsp;<i>${connectionStatus}</i>');
	$.tmpl( "netStatTmpl", connectionStatus ).appendTo( "#networkState" );


	//get schlag data
  	var schlagData = [
    	{ name: "Wiese I", 		flaeche: "25" },
      	{ name: "Bülten", 		flaeche: "10.11" }
  	];

  	//create the Schlag markup
  	var markup = "<li><h1>${name}</h1> <p>(${flaeche})</p></li>";

  	// Compile the markup as a named template
  	$.template( "schlagTemplate", markup );

  	// Render the template with the movies data and insert
  	// the rendered HTML under the "movieList" element
  	//$.tmpl( "schlagTemplate", schlagData ).appendTo( "#schlagList" );

  	//$.tmpl( "schlagTemplate", data ).appendTo( "#schlagList" );
  	//load the JSON Schlaglist data and render the template
  	$.getJSON('SchlagList.jsp', function(data) {
  		$.tmpl( "schlagTemplate", data ).appendTo( "#schlagList" );
  		$.template();
  	});
  	
</script>

</body>
</html>